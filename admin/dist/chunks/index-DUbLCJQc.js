import{R as e,a as n,b as w}from"../admin.js";import"./vendor-DXUTeoqz.js";const s={id:"shop",icon:"fa-store",title:"Shop"};function g(){return(window.wpApiSettings&&window.wpApiSettings.root||window.wp&&window.wp.apiSettings&&window.wp.apiSettings.root||"/wp-json/"||"/wp-json/").replace(/\/$/,"")}function h(){function r(){const[i,c]=n([]),[l,m]=n(!0),[a,d]=n("");return w(()=>{(async()=>{m(!0),d("");try{const t=g(),o=await fetch(`${t}/yolandi-shop/v1/products?page=1&per_page=12`);if(!o.ok)throw new Error(`HTTP ${o.status}`);const p=await o.json();c(p.items||[])}catch{d("Shop API unavailable"),c([])}finally{m(!1)}})()},[]),e.createElement("div",{className:"shop-grid",style:{padding:8}},a&&e.createElement("div",{style:{color:"#f66",marginBottom:8}},a),i.map(t=>e.createElement("div",{key:t.id,className:"shop-card"},e.createElement("div",{className:"thumb"},t.image?e.createElement("img",{src:t.image,alt:""}):e.createElement("i",{className:"fa fa-cube"})),e.createElement("div",{className:"name",title:t.name},t.name),e.createElement("div",{className:"desc"},t.short_description))),l&&e.createElement("div",{className:"loading"},"Loadingâ€¦"),!l&&!i.length&&!a&&e.createElement("div",{style:{color:"#bbb",fontSize:12}},"No products to show."))}return{id:s.id,title:s.title,icon:s.icon,render:()=>e.createElement(r,null)}}export{h as create,s as meta};
