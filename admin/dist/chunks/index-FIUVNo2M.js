import{j as e,a as t}from"./vendor-react-Bifdz3QC.js";const a={id:"shop",icon:"fa-store",title:"Shop"};function h(){return(window.wpApiSettings&&window.wpApiSettings.root||window.wp&&window.wp.apiSettings&&window.wp.apiSettings.root||"/wp-json/").replace(/\/$/,"")}function u(){function n(){const[r,c]=t.useState([]),[d,l]=t.useState(!0),[o,p]=t.useState("");return t.useEffect(()=>{(async()=>{l(!0),p("");try{const s=h(),i=await fetch(`${s}/yolandi-shop/v1/products?page=1&per_page=12`);if(!i.ok)throw new Error(`HTTP ${i.status}`);const m=await i.json();c(m.items||[])}catch{p("Shop API unavailable"),c([])}finally{l(!1)}})()},[]),e.jsxs("div",{className:"shop-grid",style:{padding:8},children:[o&&e.jsx("div",{style:{color:"#f66",marginBottom:8},children:o}),r.map(s=>e.jsxs("div",{className:"shop-card",children:[e.jsx("div",{className:"thumb",children:s.image?e.jsx("img",{src:s.image,alt:""}):e.jsx("i",{className:"fa fa-cube"})}),e.jsx("div",{className:"name",title:s.name,children:s.name}),e.jsx("div",{className:"desc",children:s.short_description})]},s.id)),d&&e.jsx("div",{className:"loading",children:"Loadingâ€¦"}),!d&&!r.length&&!o&&e.jsx("div",{style:{color:"#bbb",fontSize:12},children:"No products to show."})]})}return{id:a.id,title:a.title,icon:a.icon,render:()=>e.jsx(n,{})}}export{u as create,a as meta};
