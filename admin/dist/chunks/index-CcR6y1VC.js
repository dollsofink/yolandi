import{a,b as w}from"../admin.js";import"./vendor-DXUTeoqz.js";const o={id:"shop",icon:"fa-store",title:"Shop"};function d(){return(window.wpApiSettings&&window.wpApiSettings.root||window.wp&&window.wp.apiSettings&&window.wp.apiSettings.root||"/wp-json/").replace(/\/$/,"")}function f(){function s(){const[r,i]=a([]),[l,c]=a(!0),[t,m]=a("");return w(()=>{(async()=>{c(!0),m("");try{const e=d(),n=await fetch(`${e}/yolandi-shop/v1/products?page=1&per_page=12`);if(!n.ok)throw new Error(`HTTP ${n.status}`);const p=await n.json();i(p.items||[])}catch{m("Shop API unavailable"),i([])}finally{c(!1)}})()},[]),wp.element.createElement("div",{className:"shop-grid",style:{padding:8}},t&&wp.element.createElement("div",{style:{color:"#f66",marginBottom:8}},t),r.map(e=>wp.element.createElement("div",{key:e.id,className:"shop-card"},wp.element.createElement("div",{className:"thumb"},e.image?wp.element.createElement("img",{src:e.image,alt:""}):wp.element.createElement("i",{className:"fa fa-cube"})),wp.element.createElement("div",{className:"name",title:e.name},e.name),wp.element.createElement("div",{className:"desc"},e.short_description))),l&&wp.element.createElement("div",{className:"loading"},"Loadingâ€¦"),!l&&!r.length&&!t&&wp.element.createElement("div",{style:{color:"#bbb",fontSize:12}},"No products to show."))}return{id:o.id,title:o.title,icon:o.icon,render:()=>wp.element.createElement(s,null)}}export{f as create,o as meta};
